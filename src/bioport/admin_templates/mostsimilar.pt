<html metal:use-macro="context/@@admin_template/macros/master">
<div metal:fill-slot="content" >
<h1>Most similar</h1>
<p>Hieronder ziet u een lijst van wat, volgens de sofware, de "meest gelijkende" persoonsnamen in de database zijn.
<p>Om twee personen te identificeren, klik op "identificeer" in de lijst.
<table>
	<div tal:repeat="x python:context.repository().get_most_similar_persons(start=0, size=20)"
		tal:omit-tag="">
	<tr
		tal:define="
			score python:x[0];
			person1 python:x[1];
			person2 python:x[2];
			">
		<span tal:define="person person1">
		<td tal:content="repeat/x/index" />
		<td metal:define-macro="person">
			<a tal:attributes="href python:view.url(view.__parent__.__parent__, 'persoon', data={'bioport_id':person.get_bioport_id()})" tal:content="python:person.naam().guess_normal_form()" />
			<br>
			<span tal:content="python:context.format_dates(person.get_value('geboortedatum'), person.get_value('sterfdatum'))" />
			<br>
			<span tal:repeat="bio python:person.get_biographies()" tal:content="python:bio.get_source().id" />
		</td>
		</span>
		<span tal:define="person person2">
		<td metal:use-macro="template/macros/person" />
		</span>
		<td tal:content="score" />	
		<td>
		<ul>
			<li><a tal:attributes="href python:view.url('identify', data={'bioport_ids': [person1.get_bioport_id(), person2.get_bioport_id()]})" > identiek</a>
			<li><a tal:attributes="href python:view.url('antiidentify', data={'bioport_ids': [person1.get_bioport_id(), person2.get_bioport_id()]})" > niet identiek </a>
			<li><a tal:attributes="href python:view.url('identifymoreinfo', data={'bioport_ids': [person1.get_bioport_id(), person2.get_bioport_id()]})" > meer informatie </a>
		</ul>
		</td>
	</tr>
	</div>
</table>

</div>
</html>
